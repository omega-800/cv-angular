<div class="filterSelectedContainer">
  <div class="filterSelected">
    <ng-container *ngFor="let filter of selectedFilter">
      <ng-container *ngFor="let category of filter.categories">
        <ng-container *ngIf="category.isRange">
          <div *ngIf="!isDefaultRangeValue(filter, category)" class="selectedItem pill link"
            (click)="resetRange(filter, category)">
            <p>
              {{ category.name }}: {{ category.tags[0].value }} -
              {{ category.tags[1].value }}<b> X</b>
            </p>
          </div>
        </ng-container>
        <ng-container *ngIf="!category.isRange">
          <div *ngFor="let tag of category.tags" class="selectedItem pill link"
            (click)="toggleTag(filter, category, tag)">
            <p>{{ tag.name }}<b> X</b></p>
          </div>
        </ng-container>
      </ng-container>
    </ng-container>
  </div>
</div>
<p *ngIf="selectedFilter.length > 0" (click)="reset()" class="filterReset link pill">
  Zur√ºcksetzen
</p>
<div class="fullFilterComp">
  <div class="filterTitle flex-e2e">
    <h3>Filtern</h3>
    <p (click)="toggleOpen()" class="link pill">
      {{isActive ? "Weniger" : "Mehr"}} anzeigen
    </p>
  </div>
  <div [@dropDownMenu]>
    <div *ngFor="let filter of filters" class="filterComp menu-item">
      <h4 *ngIf="filters.length > 1 && isActive" class="filterTitle subTitle">
        {{ filter.name }}
      </h4>
      <div class="filterCategories flex-row-nojust">
        <ng-container *ngFor="let category of filter.categories">
          <ng-container *ngIf="isActive || category.selected">
            <div *ngIf="
              !category.isRange &&
              category.tags.length == 1 &&
              category.id != projectFilterProps.relevance
            " (click)="toggleTag(filter, category, category.tags[0])" class="pill tag link" [id]="category.tags[0].id">
              <img *ngIf="category.tags[0].image" src="{{ category.tags[0].image.path }}"
                alt="{{ category.tags[0].image.alt }}" class="tagIcon small-image" loading="lazy" />
              <p>{{ category.tags[0].name }}</p>
            </div>

            <div *ngIf="
              category.id == projectFilterProps.relevance &&
              getRelevanceTag(category) as tag
            " (click)="toggleTag(filter, category, tag)" class="pill tag link active" [id]="tag.id">
              <p>{{ tag.name }}</p>
            </div>

            <app-select
              *ngIf="!category.isRange && category.id != projectFilterProps.relevance && category.tags.length > 1"
              [name]="category.name" [alwaysShowName]="true" [allowMultiple]="true" [fields]="category.tags"
              [toClear]="toClear.asObservable()" (selectEmitter)="setCategory(filter, category, $event)"></app-select>

            <app-range *ngIf="category.isRange" [range]="category"
              (rangeEmitter)="updateRange(filter, $event)"></app-range>
          </ng-container>
        </ng-container>
      </div>
    </div>
  </div>
</div>