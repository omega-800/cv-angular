<div class="filterSelectedContainer">
  <div class="filterSelected">
    <ng-container *ngFor="let category of selectedFilter">
      <ng-container *ngIf="category.range">
        <div *ngIf="!isDefaultRangeValue(category)" class="selectedItem pill" (click)="resetRange(category)">
          <p>{{ category.name }}: {{ category.value[0] }} - {{ category.value[1] }}<b> X</b></p>
        </div>
      </ng-container>
      <ng-container *ngIf="!category.range">
        <div *ngFor="let item of category.value" class="selectedItem pill"
          (click)="toggleTag(category.id, category.name, item)">
          <p>{{ getName(category.id, item) }}<b> X</b></p>
        </div>
      </ng-container>
    </ng-container>
  </div>
</div>
<div #comp class="filterComp slimpill">
  <div class="filterTitle flex-e2e">
    <div class="showFilter flex-row-nojust" (mouseenter)="comp.classList.add('hover')"
      (mouseleave)="comp.classList.remove('hover')" (click)="
        content.classList.toggle('flex-row-nojust'); img.classList.toggle('active'); items.classList.toggle('active')
      ">
      <img #img class="arrowImg small-image" src="{{ arrowIcon.path }}" alt="{{ arrowIcon.alt }}" loading="lazy" />
      <h3>{{ filterName }}</h3>
    </div>
    <p (click)="reset()" class="filterReset link pill">Zur√ºcksetzen</p>
  </div>
  <div #items class="filterItems">
    <div #content class="filterCategories">
      <div #cat *ngFor="let category of filters.categories">
        <div class="showFilter filterCategory flex-row-nojust" (click)="
            cat.classList.toggle('active'); imgF.classList.toggle('active'); tags.classList.toggle('flex-list')
          ">
          <img #imgF class="arrowImg small-image" src="{{ arrowIcon.path }}" alt="{{ arrowIcon.alt }}" loading="lazy" />
          <h5 class="categoryTitle">{{ category.name }}</h5>
        </div>
        <div #tags class="tags">
          <div *ngFor="let tag of category.tags" (click)="toggleTag(category.id, category.name, tag.value);" class="tag"
            [id]="tag.id">
            <img *ngIf="tag.image" src="{{ tag.image.path }}" alt="{{ tag.image.alt }}" class="tagIcon small-image"
              loading="lazy" />
            <p>{{ tag.name }}</p>
          </div>
        </div>
      </div>
    </div>

    <div #ran *ngFor="let range of filters.ranges" class="filterRange">
      <app-range [range]="range" (rangeEmitter)="updateRange($event)"></app-range>
    </div>
  </div>
</div>

<!-- p>{{filtersSelected$ | async | json}}</p>
<form #filterForm="ngForm">
    {{filterForm.value | json}}
    <div class="filter-item" *ngFor="let filter of filterValues | keyvalue">
        <label for="{{filter.key}}">{{filter.value}}</label>
        <input ngModel type="checkbox" name="{{filter.key}}" value="{{filter.key}}">
    </div>
</form>
<div *ngFor="let filter of filterValues | keyvalue">
    <div #filterItem class="filter" (click)="filterItem.classList.toggle('active')">{{filter.value}}</div>
</div -->